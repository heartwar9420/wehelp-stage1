<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}登入頁面{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">
</head>
<body>
    <header class="banner">
    <h1>{% block header_title %}歡迎光臨，請輸入信箱密碼{% endblock %}</h1>
    </header>
{% block body_only %}
    <main class="container vstack">
        <section class="card">
        <h2 class="form-title">登入系統</h2>

        <form id="loginForm" action="/login" method="post">
            <div class="row">
            <label for="email">信箱</label>
            <input id="email" name="email" type="email" required>
            </div>

            <div class="row">
            <label for="password">密碼</label>
            <input id="password" name="password" type="password" required>
            </div>

            <div class="row agree-row">
            <label class="agree-label" for="agree">同意條款</label>
            <input id="agree" type="checkbox">
            </div>

            <div class="row submit-row">
            <button type="submit" class="btn">登入</button>
            </div>
        </form>
        </section>

        <section class="card">
        <h2 class="form-title">查詢旅館資訊</h2>
        <div class="row">
            <label for="hotelId">編號</label>
            <input id="hotelId" type="text" placeholder="請輸入正整數">
            <button class="btn" onclick="searchHotel()">查詢</button>
        </div>
        </section>
    </main>
{% endblock %}


<script>
    document.getElementById("loginForm")?.addEventListener("submit", function (e) {
        const agree = document.getElementById("agree");
        if (!agree.checked) {
        e.preventDefault();
        alert("請勾選同意條款");
        }
    });

    function searchHotel() {
        const value = document.getElementById("hotelId").value.trim();
        const id = Number(value);
        if (!value || !Number.isInteger(id) || id <= 0) {
        alert("請輸入正整數的旅館 ID");
        return;
        }
        window.location.href = `/hotel/${id}`;
    }
</script>

</body>
</html>
